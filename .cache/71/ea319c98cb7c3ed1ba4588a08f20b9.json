{"id":"../scripts/framework/Game.ts","dependencies":[{"name":"/Users/fangaorne/playground/tetris/ecmastris/tsconfig.json","includedInParent":true,"mtime":1569592431077},{"name":"/Users/fangaorne/playground/tetris/ecmastris/.babelrc","includedInParent":true,"mtime":1569591235116},{"name":"/Users/fangaorne/playground/tetris/ecmastris/package.json","includedInParent":true,"mtime":1569662577751}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Game = void 0;\n\nvar Game =\n/** @class */\nfunction () {\n  function Game(_a) {\n    var width = _a.width,\n        height = _a.height,\n        canvasID = _a.canvas,\n        StartScreen = _a.screen;\n    var canvas = document.querySelector(canvasID);\n    Game.ctx = canvas.getContext(\"2d\");\n    Game.width = canvas.width = width;\n    Game.height = canvas.height = height;\n    Game.screen = new StartScreen();\n    Game.loop();\n  }\n\n  Game.FRAME_RATE = 1000 / 60;\n  Game.lastFrameTimeMs = 0;\n  Game.running = true;\n  Game.width = 0;\n  Game.height = 0;\n\n  Game.redraw = function () {\n    var t = Date.now();\n    var dt = t - Game.lastFrameTimeMs;\n\n    if (Game.screen.update && typeof Game.screen.update === \"function\") {\n      Game.screen.update(dt);\n    }\n\n    Game.screen.paint();\n    Game.ctx.drawImage(Game.screen.paintCanvas(), 0, 0, Game.width, Game.height);\n    Game.lastFrameTimeMs = Date.now();\n    return Game.lastFrameTimeMs - t;\n  };\n\n  Game.loop = function () {\n    if (!Game.running) {\n      return;\n    }\n\n    var redrawDuration = Game.redraw();\n    setTimeout(Game.loop, Math.max(0, Game.FRAME_RATE - redrawDuration));\n  };\n\n  return Game;\n}();\n\nexports.Game = Game;"},"sourceMaps":{"js":{"mappings":[{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":8,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":8,"column":4}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":8,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":9,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":10,"column":12}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":11,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":11,"column":11}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":11,"column":15}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":19,"column":14},"generated":{"line":11,"column":16}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":11,"column":18}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":11,"column":20}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":12,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":12,"column":13}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":12,"column":16}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":12,"column":18}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":12,"column":19}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":13,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":13,"column":14}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":13,"column":17}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":13,"column":19}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":13,"column":20}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":14,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":14,"column":16}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":14,"column":19}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":14,"column":21}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":14,"column":22}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":15,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":15,"column":19}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":15,"column":22}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":15,"column":24}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":15,"column":25}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":16,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":16,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":25,"column":14},"generated":{"line":16,"column":14}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":25,"column":17},"generated":{"line":16,"column":17}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":25,"column":25},"generated":{"line":16,"column":25}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":25,"column":26},"generated":{"line":16,"column":26}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":25,"column":17},"generated":{"line":16,"column":39}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":25,"column":59},"generated":{"line":16,"column":40}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":25,"column":17},"generated":{"line":16,"column":48}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":16,"column":49}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":17,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":17,"column":4}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":17,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":26,"column":9},"generated":{"line":17,"column":9}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":17,"column":12}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":26,"column":15},"generated":{"line":17,"column":15}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":26,"column":21},"generated":{"line":17,"column":21}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":26,"column":22},"generated":{"line":17,"column":22}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":26,"column":15},"generated":{"line":17,"column":32}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":26,"column":33},"generated":{"line":17,"column":33}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":26,"column":15},"generated":{"line":17,"column":37}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":17,"column":38}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":18,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":18,"column":4}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":18,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":18,"column":9}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":18,"column":14}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":27,"column":17},"generated":{"line":18,"column":17}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":27,"column":23},"generated":{"line":18,"column":23}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":27,"column":24},"generated":{"line":18,"column":24}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":27,"column":17},"generated":{"line":18,"column":29}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":27,"column":32},"generated":{"line":18,"column":32}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":18,"column":37}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":19,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":19,"column":4}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":28,"column":8},"generated":{"line":19,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":28,"column":9},"generated":{"line":19,"column":9}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":19,"column":15}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":28,"column":18},"generated":{"line":19,"column":18}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":28,"column":24},"generated":{"line":19,"column":24}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":28,"column":25},"generated":{"line":19,"column":25}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":28,"column":18},"generated":{"line":19,"column":31}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":28,"column":34},"generated":{"line":19,"column":34}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":19,"column":40}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":20,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":20,"column":4}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":20,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":29,"column":9},"generated":{"line":20,"column":9}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":20,"column":15}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":29,"column":18},"generated":{"line":20,"column":18}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":29,"column":22},"generated":{"line":20,"column":22}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":29,"column":18},"generated":{"line":20,"column":33}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":20,"column":35}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":21,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":21,"column":4}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":21,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":21,"column":9}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":21,"column":13}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":31,"column":3},"generated":{"line":22,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":24,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":24,"column":2}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":24,"column":6}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":24,"column":7}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":24,"column":17}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":11,"column":22},"generated":{"line":24,"column":20}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":11,"column":29},"generated":{"line":24,"column":27}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":24,"column":29}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":12,"column":9},"generated":{"line":25,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":12,"column":9},"generated":{"line":25,"column":2}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":12,"column":9},"generated":{"line":25,"column":6}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":12,"column":9},"generated":{"line":25,"column":7}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":12,"column":9},"generated":{"line":25,"column":22}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":12,"column":27},"generated":{"line":25,"column":25}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":12,"column":9},"generated":{"line":25,"column":26}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":13,"column":9},"generated":{"line":26,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":13,"column":9},"generated":{"line":26,"column":2}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":13,"column":9},"generated":{"line":26,"column":6}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":13,"column":9},"generated":{"line":26,"column":7}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":13,"column":9},"generated":{"line":26,"column":14}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":13,"column":19},"generated":{"line":26,"column":17}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":13,"column":9},"generated":{"line":26,"column":21}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":27,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":27,"column":2}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":27,"column":6}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":27,"column":7}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":27,"column":12}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":14,"column":17},"generated":{"line":27,"column":15}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":27,"column":16}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":28,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":28,"column":2}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":28,"column":6}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":28,"column":7}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":28,"column":13}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":15,"column":18},"generated":{"line":28,"column":16}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":28,"column":17}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":30,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":30,"column":2}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":30,"column":6}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":30,"column":7}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":30,"column":13}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":33,"column":18},"generated":{"line":30,"column":16}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":33,"column":18},"generated":{"line":30,"column":28}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":31,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":31,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":34,"column":11},"generated":{"line":31,"column":9}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":31,"column":12}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":31,"column":16}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":34,"column":19},"generated":{"line":31,"column":17}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":31,"column":20}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":31,"column":22}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":32,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":32,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":35,"column":12},"generated":{"line":32,"column":10}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":35,"column":15},"generated":{"line":32,"column":13}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":35,"column":16},"generated":{"line":32,"column":14}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":35,"column":19},"generated":{"line":32,"column":17}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":35,"column":23},"generated":{"line":32,"column":21}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":35,"column":24},"generated":{"line":32,"column":22}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":32,"column":37}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":34,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":34,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":12},"generated":{"line":34,"column":12}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":13},"generated":{"line":34,"column":13}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":34,"column":19}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":20},"generated":{"line":34,"column":20}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":34,"column":26}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":30},"generated":{"line":34,"column":30}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":37},"generated":{"line":34,"column":37}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":41},"generated":{"line":34,"column":41}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":42},"generated":{"line":34,"column":42}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":37},"generated":{"line":34,"column":48}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":49},"generated":{"line":34,"column":49}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":30},"generated":{"line":34,"column":55}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":60},"generated":{"line":34,"column":60}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":34,"column":70}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":36,"column":72},"generated":{"line":34,"column":72}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":35,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":35,"column":6}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":37,"column":10},"generated":{"line":35,"column":10}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":37,"column":11},"generated":{"line":35,"column":11}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":35,"column":17}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":37,"column":18},"generated":{"line":35,"column":18}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":35,"column":24}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":37,"column":25},"generated":{"line":35,"column":25}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":35,"column":27}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":38,"column":5},"generated":{"line":36,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":38,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":38,"column":4}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":38,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":38,"column":9}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":38,"column":15}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":38,"column":16}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":38,"column":21}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":39,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":39,"column":4}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":39,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":39,"column":9}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":39,"column":12}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":39,"column":13}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":39,"column":22}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":23},"generated":{"line":39,"column":23}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":27},"generated":{"line":39,"column":27}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":28},"generated":{"line":39,"column":28}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":23},"generated":{"line":39,"column":34}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":35},"generated":{"line":39,"column":35}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":23},"generated":{"line":39,"column":46}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":39,"column":48}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":50},"generated":{"line":39,"column":50}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":39,"column":51}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":53},"generated":{"line":39,"column":53}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":39,"column":54}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":56},"generated":{"line":39,"column":56}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":60},"generated":{"line":39,"column":60}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":61},"generated":{"line":39,"column":61}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":39,"column":66}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":68},"generated":{"line":39,"column":68}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":72},"generated":{"line":39,"column":72}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":73},"generated":{"line":39,"column":73}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":39,"column":79}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":40,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":40,"column":4}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":40,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":40,"column":9}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":40,"column":24}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":41,"column":27},"generated":{"line":40,"column":27}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":41,"column":31},"generated":{"line":40,"column":31}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":41,"column":32},"generated":{"line":40,"column":32}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":41,"column":27},"generated":{"line":40,"column":35}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":40,"column":37}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":41,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":42,"column":11},"generated":{"line":41,"column":11}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":42,"column":15},"generated":{"line":41,"column":15}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":42,"column":16},"generated":{"line":41,"column":16}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":42,"column":11},"generated":{"line":41,"column":31}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":42,"column":34},"generated":{"line":41,"column":34}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":41,"column":35}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":43,"column":3},"generated":{"line":42,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":42,"column":3}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":44,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":44,"column":2}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":44,"column":6}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":44,"column":7}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":44,"column":11}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":45,"column":16},"generated":{"line":44,"column":14}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":45,"column":16},"generated":{"line":44,"column":26}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":45,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":45,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":46,"column":9},"generated":{"line":45,"column":9}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":46,"column":13},"generated":{"line":45,"column":13}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":46,"column":14},"generated":{"line":45,"column":14}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":45,"column":21}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":46,"column":23},"generated":{"line":45,"column":23}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":47,"column":6},"generated":{"line":46,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":48,"column":5},"generated":{"line":47,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":49,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":49,"column":8}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":49,"column":24},"generated":{"line":49,"column":22}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":49,"column":27},"generated":{"line":49,"column":25}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":49,"column":31},"generated":{"line":49,"column":29}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":49,"column":32},"generated":{"line":49,"column":30}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":49,"column":27},"generated":{"line":49,"column":36}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":49,"column":38}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":4},"generated":{"line":50,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":4},"generated":{"line":50,"column":4}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":14},"generated":{"line":50,"column":14}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":15},"generated":{"line":50,"column":15}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":19},"generated":{"line":50,"column":19}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":20},"generated":{"line":50,"column":20}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":14},"generated":{"line":50,"column":24}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":26},"generated":{"line":50,"column":26}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":30},"generated":{"line":50,"column":30}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":31},"generated":{"line":50,"column":31}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":26},"generated":{"line":50,"column":34}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":35},"generated":{"line":50,"column":35}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":26},"generated":{"line":50,"column":36}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":38},"generated":{"line":50,"column":38}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":42},"generated":{"line":50,"column":42}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":43},"generated":{"line":50,"column":43}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":38},"generated":{"line":50,"column":53}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":56},"generated":{"line":50,"column":56}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":26},"generated":{"line":50,"column":70}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":14},"generated":{"line":50,"column":71}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":50,"column":4},"generated":{"line":50,"column":72}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":51,"column":3},"generated":{"line":51,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":51,"column":3}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":53,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":53,"column":9}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":53,"column":13}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":54,"column":0}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":54,"column":1}},{"source":"../scripts/framework/Game.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":54,"column":3}}],"sources":{"../scripts/framework/Game.ts":"import { GameScreen } from \"./GameScreen\"\n\ntype GameProps = {\n  width: number\n  height: number\n  canvas: string\n  screen: { new (): GameScreen }\n}\n\nexport class Game {\n  static FRAME_RATE = 1000 / 60\n  static lastFrameTimeMs = 0\n  static running = true\n  static width = 0\n  static height = 0\n  static screen: GameScreen\n  static ctx: CanvasRenderingContext2D\n\n  constructor({\n    width,\n    height,\n    canvas: canvasID,\n    screen: StartScreen,\n  }: GameProps) {\n    let canvas = document.querySelector<HTMLCanvasElement>(canvasID)!\n    Game.ctx = canvas.getContext(\"2d\")!\n    Game.width = canvas.width = width\n    Game.height = canvas.height = height\n    Game.screen = new StartScreen()\n    Game.loop()\n  }\n\n  static redraw = () => {\n    const t = Date.now()\n    const dt = t - Game.lastFrameTimeMs\n    if (Game.screen.update && typeof Game.screen.update === \"function\") {\n      Game.screen.update(dt)\n    }\n    Game.screen.paint()\n    Game.ctx.drawImage(Game.screen.paintCanvas(), 0, 0, Game.width, Game.height)\n    Game.lastFrameTimeMs = Date.now()\n    return Game.lastFrameTimeMs - t\n  }\n\n  static loop = () => {\n    if (!Game.running) {\n      return\n    }\n    const redrawDuration = Game.redraw()\n    setTimeout(Game.loop, Math.max(0, Game.FRAME_RATE - redrawDuration))\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"6becaaac3a78c5e3458f6bba1ab9bf4f","cacheData":{"env":{}}}